########################################################

              README for SMOG 2 (v2.5beta)

SMOG 2 is a downloadable software package for 
generating structure-based models, as provided by the 
smog-server.org webserver (i.e. SMOG v1). These models 
may be used to perform simulations using Gromacs, NAMD,
or openMM.

SMOG 2 is free software, distributed under the GNU 
General Public License. See COPYING.

This distribution of SMOG 2 includes two versions of 
SMOG models, the C-alpha model (Clementi et al. JMB 2000)
and the all-atom model (Whitford et al. Proteins 2009),
as well as two definitions of contacts (LJ, Gaussians).
The software is written such that you may also design
your own form of structure-based models without having
to modify the source code. For even greater flexibility,
we recommend checking the -OpenSMOG option, which 
provides a platform for performing SMOG models in OpenMM.

This README provides the absolute basics for using
SMOG 2.  For more advanced usage information, consult
the manual, available at smog-server.org

We encourage everyone to provide feedback/suggestions
on usage, extensions and bugs to info@smog-server.org,
or post questions to the users forum.  You can sign up
for the users forum at
https://mailman.rice.edu/mailman/listinfo/smog-users


      Jeffrey Noel, Jose' Onuchic and Paul Whitford

########################################################


########################################################

		  CONFIGURING SMOG 2
If you are not using the Docker container of SMOG 2 that
is available on at smog-server.org, then you will need to 
configure your settings file and ensure all libraries are 
available. This is a relatively simple process.

1) SMOG 2 is written in Perl, and requires the 
following external modules to be installed. Some of 
these are probably already available on your system. If not, 
they are available through cpan:

XML::Simple
XML::SAX::ParserFactory
XML::Validator::Schema
XML::LibXML 
Exporter
PDL
Getopt::Long
Scalar::Util

Note: If installing a module fails, it may be necessary 
to use cpan to install additional modules, or perhaps use
yum to install missing tools. Just check the error messages 
to identify which dependencies are missing.

1a) If you do not have java installed (uncommon), then
you will have to install it.

2) Once the modules and java are installed, you need to 
run the configure script. First, modify configure.smog2.  
Specifically, give values to the following two 
variables:

smog2dir=""
perl4smog=""

smog2dir is the main SMOG 2 directory (this will have 
src and share as subdirectories), and perl4smog is the
version of perl that you prefer to use.  On linux, the
most common value for perl4smog is "/usr/bin/perl".  

To finish the configure process, issue the command:
 
source configure.smog2

Note: This is written for use with BASH.

To run a basic test that SMOG 2 is up and running
issue the command (from within the smog2 directory):

./test-config 

If configuration is complete, you will have a directory
$smog2dir/bin, which will contain wrappers for SMOG 2,
as well as for tools described in the manual. If you
call the configure script multiple times, new files
will not be created, but the environment will still
be initialized.

If you use SMOG frequently, it is recommended that 
you add the configure line to your .bashrc file, so 
you will not need to re-run configure.smog2 every time 
you use SMOG. If you do add it to your bashrc, make 
sure to include the full path for configure.smog2.

3) (Optional) It is highly recommended that once SMOG
is configured, you download and run the smog-check suite.
This will verify your configurations are correct and that
SMOG is producing accurate force field files.

########################################################


########################################################

			USAGE

If your configuration step completes successfully, 
running SMOG 2 can be quite simple.  

Note: It is assumed that $SMOG_PATH is properly defined.

To use the default C-alpha model (proteins only) 

smog2 -i <PDBFILE> -CA  

For the default C-alpha model with gaussian contacts (proteins only) 

smog2 -i <PDBFILE> -CAgaussian  

For the default All-atom model: 

smog2 -i <PDBFILE> -AA

For the default All-atom model with gaussian contacts: 

smog2 -i <PDBFILE> -AAgaussian

If you would like to use other models:

Coarse-grained models
smog2 -i <PDBFILE> -t <CG_TEMPLATES> \
 	-CG -t_contacts $SMOG_PATH/SBM_AA

In this example, <CG_TEMPLATES> is the directory containing 
the CG templates and <PDBFILE> is the the system for which 
you would like to generate a SMOG model.

To run an All-atom model: 
smog2 -i <PDBFILE> -t $SMOG_PATH/SBM_AA  

For a list of all supported flags and options, type:
smog2 --help

For more advanced usage of SMOG 2, please consult the
user manual.

########################################################
